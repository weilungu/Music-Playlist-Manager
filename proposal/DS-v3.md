# è³‡æ–™çµæ§‹æ¼”ç®—æ³•è¤‡é›œåº¦åˆ†æ (v3)

æœ¬æ–‡ä»¶è©³ç´°èªªæ˜ `music-playlist-manager/src/scripts/dataStructures/` è³‡æ–™å¤¾ä¸­å„è³‡æ–™çµæ§‹çš„æ¼”ç®—æ³•è¤‡é›œåº¦åˆ†æã€‚

---

## ğŸ“ Queue.js - ä½‡åˆ—ï¼ˆç’°å½¢é™£åˆ—å¯¦ä½œï¼‰

ä½¿ç”¨ç’°å½¢é™£åˆ—ï¼ˆCircular Arrayï¼‰å¯¦ä½œçš„ä½‡åˆ—ï¼Œç›¸è¼ƒæ–¼ä½¿ç”¨ `Array.shift()` çš„å‚³çµ±å¯¦ä½œï¼Œ`dequeue` æ“ä½œå¾ O(n) å„ªåŒ–ç‚º O(1)ã€‚

### é¡åˆ¥çµæ§‹

```
Queue
â”œâ”€â”€ _items: Array      # å„²å­˜å…ƒç´ çš„ç’°å½¢é™£åˆ—
â”œâ”€â”€ _head: number      # éšŠé¦–ç´¢å¼•
â”œâ”€â”€ _tail: number      # ä¸‹ä¸€å€‹æ’å…¥ä½ç½®
â””â”€â”€ _size: number      # ç›®å‰å…ƒç´ æ•¸é‡
```

### æ–¹æ³•è¤‡é›œåº¦

| æ–¹æ³•åç¨± | æ™‚é–“è¤‡é›œåº¦ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|-----------|-----------|------|
| `constructor(initialCapacity)` | O(1) | O(k) | åˆå§‹åŒ–ä½‡åˆ—ï¼Œk = åˆå§‹å®¹é‡ |
| `enqueue(item)` | O(1) æ”¤éŠ· | O(1) | åŠ å…¥å…ƒç´ åˆ°éšŠå°¾ï¼ˆæ“´å®¹æ™‚ O(n)ï¼‰ |
| `dequeue()` | **O(1)** | O(1) | ç§»é™¤ä¸¦å›å‚³éšŠé¦–å…ƒç´  |
| `front()` | O(1) | O(1) | å›å‚³éšŠé¦–å…ƒç´ ä½†ä¸ç§»é™¤ |
| `peek()` | O(1) | O(1) | `front()` çš„åˆ¥å |
| `isEmpty()` | O(1) | O(1) | æª¢æŸ¥ä½‡åˆ—æ˜¯å¦ç‚ºç©º |
| `size()` | O(1) | O(1) | å›å‚³ä½‡åˆ—é•·åº¦ |
| `getSize()` | O(1) | O(1) | `size()` çš„åˆ¥å |
| `toArray()` | O(n) | O(n) | è½‰æ›ç‚ºé™£åˆ— |
| `clear()` | O(1) | O(1) | æ¸…ç©ºä½‡åˆ— |
| `_resize(newCapacity)` | O(n) | O(n) | å…§éƒ¨æ–¹æ³•ï¼šæ“´å®¹é™£åˆ— |

### å„ªåŒ–èªªæ˜

åŸæœ¬ä½¿ç”¨ `Array.shift()` çš„å¯¦ä½œï¼š
```javascript
dequeue() {
    return this.items.shift(); // O(n) - æ‰€æœ‰å…ƒç´ éœ€è¦ç§»å‹•
}
```

å„ªåŒ–å¾Œä½¿ç”¨ç’°å½¢é™£åˆ—ï¼š
```javascript
dequeue() {
    const item = this._items[this._head];
    this._head = (this._head + 1) % this._items.length; // O(1) - åªç§»å‹•æŒ‡æ¨™
    this._size--;
    return item;
}
```

---

## ğŸ“ LinkedList.js - é›™å‘é€£çµä¸²åˆ—

é›™å‘é€£çµä¸²åˆ—ï¼ˆDoubly Linked Listï¼‰å¯¦ä½œï¼Œæ¯å€‹ç¯€é»åŒ…å« `prev` å’Œ `next` æŒ‡æ¨™ï¼Œæ”¯æ´é›™å‘éæ­·å’Œ O(1) çš„é ­å°¾æ“ä½œã€‚

### é¡åˆ¥çµæ§‹

```
Node
â”œâ”€â”€ data: any          # ç¯€é»è³‡æ–™
â”œâ”€â”€ next: Node | null  # ä¸‹ä¸€å€‹ç¯€é»æŒ‡æ¨™
â””â”€â”€ prev: Node | null  # ä¸Šä¸€å€‹ç¯€é»æŒ‡æ¨™

DoublyLinkedList
â”œâ”€â”€ head: Node | null  # é ­ç¯€é»
â”œâ”€â”€ tail: Node | null  # å°¾ç¯€é»
â”œâ”€â”€ size: number       # ä¸²åˆ—é•·åº¦
â””â”€â”€ current: Node      # ç•¶å‰æ’­æ”¾ä½ç½®ï¼ˆç”¨æ–¼æ’­æ”¾åŠŸèƒ½ï¼‰
```

### æ–¹æ³•è¤‡é›œåº¦

#### åŸºæœ¬æ“ä½œ

| æ–¹æ³•åç¨± | æ™‚é–“è¤‡é›œåº¦ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|-----------|-----------|------|
| `constructor()` | O(1) | O(1) | åˆå§‹åŒ–ç©ºä¸²åˆ— |
| `add(data)` | **O(1)** | O(1) | æ–°å¢ç¯€é»åˆ°å°¾ç«¯ |
| `append(data)` | **O(1)** | O(1) | `add()` çš„åˆ¥å |
| `remove(data)` | O(n) | O(1) | ä¾è³‡æ–™æœå°‹ä¸¦ç§»é™¤ç¯€é» |
| `removeNode(node)` | **O(1)** | O(1) | ä¾ç¯€é»å¼•ç”¨ç›´æ¥ç§»é™¤ |
| `clear()` | O(1) | O(1) | æ¸…ç©ºä¸²åˆ— |
| `getSize()` | O(1) | O(1) | å›å‚³ä¸²åˆ—é•·åº¦ |

#### éæ­·æ“ä½œ

| æ–¹æ³•åç¨± | æ™‚é–“è¤‡é›œåº¦ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|-----------|-----------|------|
| `traverse()` | O(n) | O(n) | æ­£å‘éæ­·ï¼Œå›å‚³æ‰€æœ‰è³‡æ–™ |
| `traverseReverse()` | O(n) | O(n) | åå‘éæ­· |
| `toArray()` | O(n) | O(n) | è½‰æ›ç‚ºé™£åˆ— |
| `fromArray(arr)` | O(n) | O(n) | å¾é™£åˆ—é‡å»ºä¸²åˆ— |

#### æ’­æ”¾ç›¸é—œæ“ä½œ

| æ–¹æ³•åç¨± | æ™‚é–“è¤‡é›œåº¦ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|-----------|-----------|------|
| `moveNext()` | **O(1)** | O(1) | ç§»åˆ°ä¸‹ä¸€é¦–ï¼ˆå¾ªç’°ï¼‰ |
| `movePrev()` | **O(1)** | O(1) | ç§»åˆ°ä¸Šä¸€é¦–ï¼ˆå¾ªç’°ï¼‰ |
| `shuffle()` | O(n) | O(n) | éš¨æ©Ÿå–å¾—ä¸€å€‹ç¯€é» |

### é—œéµå„ªåŒ–ï¼šO(1) åˆªé™¤

ç•¶æŒæœ‰ç¯€é»å¼•ç”¨æ™‚ï¼Œå¯ä½¿ç”¨ `removeNode(node)` é”åˆ° O(1) åˆªé™¤ï¼š

```javascript
removeNode(node) {
    if (node.prev) {
        node.prev.next = node.next;
    } else {
        this.head = node.next;
    }
    
    if (node.next) {
        node.next.prev = node.prev;
    } else {
        this.tail = node.prev;
    }
    
    this.size--;
}
```

---

## ğŸ“ BinarySearchTree.js - äºŒå…ƒæœå°‹æ¨¹

äºŒå…ƒæœå°‹æ¨¹ï¼ˆBinary Search Treeï¼‰å¯¦ä½œï¼Œæ”¯æ´è‡ªè¨‚æ’åºéµã€‚ç”¨æ–¼æ­Œæ›²çš„æ’åºå’Œå¿«é€Ÿæœå°‹ã€‚

### é¡åˆ¥çµæ§‹

```
TreeNode
â”œâ”€â”€ song: Object       # æ­Œæ›²è³‡æ–™
â”œâ”€â”€ left: TreeNode     # å·¦å­ç¯€é»
â””â”€â”€ right: TreeNode    # å³å­ç¯€é»

BinarySearchTree
â”œâ”€â”€ root: TreeNode     # æ ¹ç¯€é»
â””â”€â”€ keySelector: Function  # æ’åºéµé¸æ“‡å‡½å¼
```

### æ–¹æ³•è¤‡é›œåº¦

| æ–¹æ³•åç¨± | å¹³å‡æ™‚é–“è¤‡é›œåº¦ | æœ€å£æ™‚é–“è¤‡é›œåº¦ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|--------------|--------------|-----------|------|
| `constructor(keySelector)` | O(1) | O(1) | O(1) | åˆå§‹åŒ– BST |
| `getKey(song)` | O(1) | O(1) | O(1) | å–å¾—æ’åºéµ |
| `insert(song)` | **O(log n)** | O(n) | O(log n) | æ’å…¥æ­Œæ›² |
| `insertNode(node, newNode)` | O(log n) | O(n) | O(log n) | éè¿´æ’å…¥ |
| `delete(keyValue)` | **O(log n)** | O(n) | O(log n) | åˆªé™¤æŒ‡å®šéµå€¼ |
| `deleteNode(node, keyValue)` | O(log n) | O(n) | O(log n) | éè¿´åˆªé™¤ |
| `findMinNode(node)` | O(log n) | O(n) | O(1) | æ‰¾æœ€å°ç¯€é» |
| `search(keyValue)` | **O(log n)** | O(n) | O(log n) | æœå°‹æ­Œæ›² |
| `searchNode(node, keyValue)` | O(log n) | O(n) | O(log n) | éè¿´æœå°‹ |
| `inOrderTraversal(node, callback)` | O(n) | O(n) | O(n) | ä¸­åºéæ­· |

### è¤‡é›œåº¦èªªæ˜

- **å¹³å‡æƒ…æ³ O(log n)**ï¼šç•¶æ¨¹æ¥è¿‘å¹³è¡¡æ™‚
- **æœ€å£æƒ…æ³ O(n)**ï¼šç•¶æ¨¹é€€åŒ–æˆéˆçµä¸²åˆ—æ™‚ï¼ˆä¾‹å¦‚ä¾åºæ’å…¥å·²æ’åºçš„è³‡æ–™ï¼‰

### ä¸­åºéæ­·ï¼ˆIn-Order Traversalï¼‰

ä¸­åºéæ­·æœƒæŒ‰ç…§æ’åºé †åºè¨ªå•æ‰€æœ‰ç¯€é»ï¼š

```javascript
inOrderTraversal(node, callback) {
    if (node) {
        this.inOrderTraversal(node.left, callback);   // å…ˆå·¦å­æ¨¹
        callback(node.song);                           // è™•ç†ç•¶å‰ç¯€é»
        this.inOrderTraversal(node.right, callback);  // å†å³å­æ¨¹
    }
}
```

è¼¸å‡ºé †åºï¼šæœ€å° â†’ æœ€å¤§

---

## è¤‡é›œåº¦ç¸½è¦½è¡¨

| è³‡æ–™çµæ§‹ | æ“ä½œ | æ™‚é–“è¤‡é›œåº¦ | å‚™è¨» |
|---------|------|-----------|------|
| **Queue** | enqueue | O(1) æ”¤éŠ· | æ“´å®¹æ™‚ O(n) |
| **Queue** | dequeue | O(1) | ä½¿ç”¨ç’°å½¢é™£åˆ—å„ªåŒ– |
| **Queue** | peek/front | O(1) | |
| **Queue** | toArray | O(n) | |
| **DoublyLinkedList** | add/append | O(1) | åŠ åˆ°å°¾ç«¯ |
| **DoublyLinkedList** | removeNode | O(1) | å·²çŸ¥ç¯€é»å¼•ç”¨ |
| **DoublyLinkedList** | remove | O(n) | éœ€å…ˆæœå°‹ |
| **DoublyLinkedList** | moveNext/Prev | O(1) | æ’­æ”¾æ§åˆ¶ |
| **DoublyLinkedList** | traverse/toArray | O(n) | |
| **DoublyLinkedList** | shuffle | O(n) | éš¨æ©Ÿé¸å– |
| **BinarySearchTree** | insert | O(log n) | å¹³å‡æƒ…æ³ |
| **BinarySearchTree** | delete | O(log n) | å¹³å‡æƒ…æ³ |
| **BinarySearchTree** | search | O(log n) | å¹³å‡æƒ…æ³ |
| **BinarySearchTree** | inOrderTraversal | O(n) | æ’åºè¼¸å‡º |

---

## è¨­è¨ˆæ±ºç­–èˆ‡å„ªåŒ–

### 1. Queue ä½¿ç”¨ç’°å½¢é™£åˆ—

**å•é¡Œ**ï¼šJavaScript çš„ `Array.shift()` æ˜¯ O(n) æ“ä½œ  
**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ç’°å½¢é™£åˆ— + head/tail æŒ‡æ¨™  
**æ•ˆæœ**ï¼š`dequeue()` å¾ O(n) å„ªåŒ–ç‚º O(1)

### 2. LinkedList æä¾› nodeTable å¿«é€ŸæŸ¥æ‰¾

**å•é¡Œ**ï¼šåˆªé™¤æ­Œæ›²éœ€è¦å…ˆæœå°‹ç¯€é» O(n)  
**è§£æ±ºæ–¹æ¡ˆ**ï¼šåœ¨ main.js ä¸­ç¶­è­· `nodeTable` å¿«é€ŸæŸ¥æ‰¾è¡¨  
**æ•ˆæœ**ï¼šå·²çŸ¥æ­Œæ›²éµæ™‚ï¼Œåˆªé™¤æ“ä½œç‚º O(1)

### 3. BST æ”¯æ´è‡ªè¨‚æ’åºéµ

**å•é¡Œ**ï¼šå¯èƒ½éœ€è¦ä¾ä¸åŒæ¬„ä½æ’åº  
**è§£æ±ºæ–¹æ¡ˆ**ï¼šå»ºæ§‹å‡½å¼æ¥å— `keySelector` åƒæ•¸  
**æ•ˆæœ**ï¼šéˆæ´»æ”¯æ´ä¾æ¨™é¡Œã€æ­Œæ‰‹ç­‰æ¬„ä½æ’åº

---

## ç©ºé–“è¤‡é›œåº¦ç¸½çµ

| è³‡æ–™çµæ§‹ | ç©ºé–“è¤‡é›œåº¦ | èªªæ˜ |
|---------|-----------|------|
| Queue | O(n) | n = å…ƒç´ æ•¸é‡ |
| DoublyLinkedList | O(n) | æ¯å€‹ç¯€é»é¡å¤–å„²å­˜ prev/next æŒ‡æ¨™ |
| BinarySearchTree | O(n) | n = ç¯€é»æ•¸é‡ |

---

*æœ€å¾Œæ›´æ–°ï¼š2025å¹´12æœˆ11æ—¥*
